{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      form: {\n        name: '',\n        age: '',\n        sex: '',\n        birth: '',\n        addr: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名'\n        }],\n        age: [{\n          required: true,\n          message: '请输入年龄'\n        }],\n        sex: [{\n          required: true,\n          message: '请选择性别'\n        }],\n        birth: [{\n          required: true,\n          message: '请选择出生日期'\n        }],\n        addr: [{\n          required: true,\n          message: '请输入地址'\n        }]\n      },\n      tableData: [{\n        name: '贺娜',\n        age: 41,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '福建省 泉州市 泉巷区'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '罗铭感',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }, {\n        name: '方平',\n        age: 27,\n        sex: '女',\n        birth: '1991-01-19',\n        addr: '陕西省 商洛市 镇安县'\n      }],\n      tableLable: [{\n        name: 'name',\n        label: '姓名'\n      }, {\n        name: 'age',\n        label: '年龄'\n      }, {\n        name: 'sex',\n        label: '性别'\n      }, {\n        name: 'birth',\n        label: '出生日期'\n      }, {\n        name: 'addr',\n        label: '地址'\n      }],\n      modalType: 0,\n      pageH: 0\n    };\n  },\n  methods: {\n    submit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this, this.$refs.form.validateField('age', errorMessage => {\n            let valid = parseInt(this.form.age);\n            if (Object.is(valid, NaN)) {\n              confirm(\"输入不合法\");\n              return false;\n            } else {\n              if (this.modalType === 0) {\n                let newForm = {};\n                newForm = JSON.parse(JSON.stringify(this.form));\n                this.tableData.push(newForm);\n              } else {\n                let tet = JSON.parse(JSON.stringify(this.form));\n                this.editTableData(tet);\n              }\n              this.$refs.form.resetFields();\n              this.dialogVisible = false;\n            }\n          });\n        }\n      });\n    },\n    handleClose() {\n      //清空表单数据\n      this.$refs.form.resetFields();\n      this.dialogVisible = false;\n    },\n    updataMsg(scope) {\n      this.modalType = 1;\n      this.dialogVisible = true;\n      this.form = JSON.parse(JSON.stringify(scope.row));\n    },\n    editTableData(data) {\n      const index = this.tableData.findIndex(item => {\n        return item.name === data.name;\n      });\n      this.$set(this.tableData, index, data);\n      console.log(this.tableData);\n    },\n    deleteMsg(scope) {\n      this.tableData.splice(scope.$index, 1);\n    },\n    handlePage(val) {\n      console.log(val);\n    }\n  },\n  computed: {\n    total() {\n      return this.tableData.length;\n    },\n    tableDataSepart() {\n      let arr = new a();\n    }\n  }\n};","map":{"version":3,"names":["data","dialogVisible","form","name","age","sex","birth","addr","rules","required","message","tableData","tableLable","label","modalType","pageH","methods","submit","$refs","validate","valid","validateField","errorMessage","parseInt","Object","is","NaN","confirm","newForm","JSON","parse","stringify","push","tet","editTableData","resetFields","handleClose","updataMsg","scope","row","index","findIndex","item","$set","console","log","deleteMsg","splice","$index","handlePage","val","computed","total","length","tableDataSepart","arr","a"],"sources":["src/views/User.vue"],"sourcesContent":["<template>\r\n    <div class=\"manage\">\r\n        <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"50%\"\r\n        :before-close=\"handleClose\">\r\n        <!-- 用户的表单信息 -->\r\n        <el-form :inline=\"true\" :rules=\"rules\" ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"姓名\" prop=\"name\">\r\n                <el-input placeholder=\"请输入姓名\" v-model=\"form.name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"年龄\" prop=\"age\">\r\n                <el-input placeholder=\"请输入年龄\" v-model=\"form.age\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"性别\" prop=\"sex\">\r\n                <el-select v-model=\"form.sex\" placeholder=\"请选择你的性别\">\r\n                    <el-option label=\"男\" value=\"男\"></el-option>\r\n                    <el-option label=\"女\" value=\"女\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"出生日期\" prop=\"birth\">\r\n                <el-date-picker\r\n                v-model=\"form.birth\"\r\n                type=\"date\"\r\n                placeholder=\"选择日期\"\r\n                value-format=\"yyyy-MM-DD\">\r\n                </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"地址\" prop=\"addr\">\r\n                <el-input placeholder=\"请输入地址\" v-model=\"form.addr\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"handleClose\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n        </span>\r\n        </el-dialog>\r\n        <div class=\"manage-header\">\r\n            <el-button @click=\"dialogVisible=true,modalType=0\" type=\"primary\">\r\n                + 新增\r\n            </el-button>\r\n        </div>\r\n        <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\"\r\n        height=\"80%\"\r\n        stripe>\r\n            <el-table-column\r\n                :prop=\"item.name\"\r\n                :label=\"item.label\"\r\n                v-for=\"item in tableLable\"\r\n                :key=\"item.prop\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"option\"\r\n                label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"small\" @click=\"updataMsg(scope)\">编辑</el-button>\r\n                        <el-button size=\"small\" type=\"danger\" @click=\"deleteMsg(scope)\">删除</el-button>\r\n                    </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div>\r\n            <el-pagination\r\n                layout=\"prev, pager, next\"\r\n                :total=\"total\"\r\n                @current-change=\"handlePage\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default{\r\n\r\n    data(){\r\n        return{\r\n            dialogVisible:false,\r\n            form:{\r\n                name:'',\r\n                age:'',\r\n                sex:'',\r\n                birth:'',\r\n                addr:'',\r\n            },\r\n            rules:{\r\n                name:[\r\n                    {required:true,message:'请输入姓名'}\r\n                ],\r\n                age:[\r\n                    {required:true,message:'请输入年龄'}\r\n                ],\r\n                sex:[\r\n                    {required:true,message:'请选择性别'}\r\n                ],\r\n                birth:[\r\n                    {required:true,message:'请选择出生日期'}\r\n                ],\r\n                addr:[\r\n                    {required:true,message:'请输入地址'}\r\n                ],\r\n            },\r\n            tableData:[\r\n                {\r\n                    name:'贺娜',\r\n                    age:41,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'福建省 泉州市 泉巷区'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'罗铭感',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n                {\r\n                    name:'方平',\r\n                    age:27,\r\n                    sex:'女',\r\n                    birth:'1991-01-19',\r\n                    addr:'陕西省 商洛市 镇安县'\r\n                },\r\n            ],\r\n            tableLable:[\r\n                {\r\n                    name:'name',\r\n                    label:'姓名'\r\n                },\r\n                {\r\n                    name:'age',\r\n                    label:'年龄'\r\n                },\r\n                {\r\n                    name:'sex',\r\n                    label:'性别'\r\n                },\r\n                {\r\n                    name:'birth',\r\n                    label:'出生日期'\r\n                },\r\n                {\r\n                    name:'addr',\r\n                    label:'地址'\r\n                },\r\n            ],\r\n            modalType:0,\r\n            pageH:0,\r\n        }\r\n    },\r\n    methods:{\r\n        submit(){\r\n            this.$refs.form.validate((valid)=>{\r\n                if(valid){\r\n                    this,this.$refs.form.validateField('age',(errorMessage)=>{\r\n                        let valid = parseInt(this.form.age)\r\n                        if(Object.is(valid,NaN)){\r\n                            confirm(\"输入不合法\")\r\n                            return false\r\n                        }\r\n                        else{\r\n                            if(this.modalType===0){\r\n                                let newForm = {}\r\n                                newForm=JSON.parse(JSON.stringify(this.form))\r\n                                this.tableData.push(newForm)\r\n                            }\r\n                            else{\r\n                                let tet=JSON.parse(JSON.stringify(this.form))\r\n                                this.editTableData(tet)\r\n                            }\r\n                            this.$refs.form.resetFields()\r\n                            this.dialogVisible=false\r\n                        }\r\n                    })\r\n\r\n                }\r\n            })\r\n        },\r\n        handleClose(){\r\n            //清空表单数据\r\n            this.$refs.form.resetFields()\r\n            this.dialogVisible=false\r\n        },\r\n        updataMsg(scope){\r\n            this.modalType=1\r\n            this.dialogVisible=true\r\n            this.form=JSON.parse(JSON.stringify(scope.row))\r\n        },\r\n        editTableData(data){\r\n            const index = this.tableData.findIndex(item=>{\r\n                return item.name===data.name\r\n            })\r\n            this.$set(this.tableData,index,data)\r\n            console.log(this.tableData);\r\n        },\r\n        deleteMsg(scope){\r\n            this.tableData.splice(scope.$index,1)\r\n        },\r\n        handlePage(val){\r\n            console.log(val);\r\n        }\r\n    },\r\n    computed:{\r\n        total(){\r\n            return this.tableData.length\r\n        },\r\n        tableDataSepart(){\r\n            let arr = new a\r\n        }\r\n    }\r\n   \r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .manage{\r\n        height: 90%;\r\n    }\r\n    \r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}